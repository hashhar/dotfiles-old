#!/bin/bash

# Creates a new issue file with a random quote and places it on /etc/issue

TEMP=/tmp/tempfortune
ISSUE=/tmp/tempissue
FAKE_HOME="/home/ashhar"

if [ "x$1" = "x" ]; then
	fortune -ec | tee >(head -n 1 >> "${FAKE_HOME}/.local/logs/fortune-category-log") | tail -n +3 | cowsay -f "$(find /usr/share/cowsay/cows/ -type f | sort -R | head -1)" -W 160 | lolcat > $TEMP
	printf '%s\n' "\\s - \\m - Kernel \\r" > $ISSUE
	printf '%s\n' "\\n@\\o" >> $ISSUE
	{ cat $TEMP; echo "    "; echo "    "; } >> $ISSUE
else
	cat "$1" > $ISSUE
fi
sudo cp $ISSUE /etc/issue

